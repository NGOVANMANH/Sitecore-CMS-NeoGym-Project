<div>
    <h2>Search</h2>
    <input type="text" id="searchKeyword" placeholder="Enter keyword..." />
    <button onclick="fetchSearchResults()">Search</button>

    <div id="searchResults">
        <p>Results will appear here...</p>
    </div>
</div>

<script>
    async function fetchSearchResults() {
        const keyword = document.getElementById("searchKeyword").value;
        if (!keyword) {
            alert("Please enter a keyword");
            return;
        }

        const url = `https://mysite.cm/mysite/api/feature/search/Query?keyword=${encodeURIComponent(keyword)}`;

        try {
            const response = await fetch(url);
            if (!response.ok) {
                throw new Error(`HTTP error! Status: ${response.status}`);
            }

            const data = await response.json();
            displayResults(data);
        } catch (error) {
            console.error("Error fetching search results:", error);
            document.getElementById("searchResults").innerHTML = `<p style="color: red;">Failed to load results.</p>`;
        }
    }

    function displayResults(results) {
        const resultsContainer = document.getElementById("searchResults");
        if (results.length === 0) {
            resultsContainer.innerHTML = "<p>No results found.</p>";
            return;
        }

        let html = "<ul>";
        results.forEach(result => {
            html += `<li><strong>${result.Name}</strong> (ID: ${result.ItemId})</li>`;
        });
        html += "</ul>";

        resultsContainer.innerHTML = html;
    }
</script>
